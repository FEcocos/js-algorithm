import { describe, test, expect } from "vitest";
import { solution } from "./solution.js";

describe("멘토링", () => {
  test("테스트 케이스 1 - 기본 예제", () => {
    const tests = [
      [3, 4, 1, 2],  // 3번 1등, 4번 2등, 1번 3등, 2번 4등
      [4, 3, 2, 1],  // 4번 1등, 3번 2등, 2번 3등, 1번 4등
      [3, 1, 4, 2]   // 3번 1등, 1번 2등, 4번 3등, 2번 4등
    ];
    // (3,1): 모든 테스트에서 3번이 1번보다 앞 ✓
    // (3,2): 모든 테스트에서 3번이 2번보다 앞 ✓
    // (4,2): 모든 테스트에서 4번이 2번보다 앞 ✓
    expect(solution(tests)).toBe(3);
  });

  test("테스트 케이스 2 - 2명의 학생, 2번의 테스트", () => {
    const tests = [
      [1, 2],
      [1, 2]
    ];
    // (1,2): 모든 테스트에서 1번이 2번보다 앞 → 1가지
    expect(solution(tests)).toBe(1);
  });

  test("테스트 케이스 3 - 등수가 바뀌는 경우", () => {
    const tests = [
      [1, 2, 3],
      [2, 1, 3],
      [3, 2, 1]
    ];
    // (1,3): 테스트1,2에서는 앞이지만 테스트3에서 뒤 → X
    // (2,3): 테스트1,2에서는 앞이지만 테스트3에서 뒤 → X
    // (3,1): 테스트1,2에서는 뒤 → X
    // 아무 짝도 안됨
    expect(solution(tests)).toBe(0);
  });

  test("테스트 케이스 4 - 모든 조합 가능", () => {
    const tests = [
      [1, 2, 3],
      [1, 2, 3]
    ];
    // (1,2), (1,3), (2,3) 총 3가지
    expect(solution(tests)).toBe(3);
  });

  test("테스트 케이스 5 - 3명 1번 테스트", () => {
    const tests = [
      [1, 2, 3]
    ];
    // 테스트가 1번뿐이므로 (1,2), (1,3), (2,3) 총 3가지
    expect(solution(tests)).toBe(3);
  });

  test("테스트 케이스 6 - 복잡한 케이스", () => {
    const tests = [
      [4, 3, 2, 1],
      [3, 4, 1, 2],
      [4, 1, 3, 2]
    ];
    // 모든 테스트에서 항상 앞서는 쌍 찾기
    // (4,1): 테1(4가 1등, 1이 4등), 테2(4가 2등, 1이 3등), 테3(4가 1등, 1이 2등) ✓
    // (4,2): 테1(4가 1등, 2가 4등...아니 2가 3등), 테2(4가 2등, 2가 4등), 테3(4가 1등, 2가 4등) ✓
    // (3,1): 테1(3이 2등, 1이 4등), 테2(3이 1등, 1이 3등), 테3(3이 3등, 1이 2등) X
    // 다시 계산...
    expect(solution(tests)).toBe(3);
  });

  test("테스트 케이스 7 - 5명의 학생", () => {
    const tests = [
      [1, 2, 3, 4, 5],
      [1, 2, 3, 4, 5],
      [1, 2, 3, 4, 5]
    ];
    // 모든 테스트에서 순서가 같으므로
    // (1,2), (1,3), (1,4), (1,5), (2,3), (2,4), (2,5), (3,4), (3,5), (4,5)
    // 총 10가지 (nC2 = 5C2 = 10)
    expect(solution(tests)).toBe(10);
  });
});

