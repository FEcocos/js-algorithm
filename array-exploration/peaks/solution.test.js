import { describe, test, expect } from "vitest";
import { solution } from "./solution.js";

describe("봉우리", () => {
  test("테스트 케이스 1 - 기본 예제", () => {
    const board = [
      [5, 3, 7, 2, 3],
      [3, 7, 1, 6, 1],
      [7, 2, 5, 3, 4],
      [4, 3, 6, 4, 1],
      [8, 7, 3, 5, 2]
    ];
    // 봉우리: (0,0)=5, (0,2)=7, (1,1)=7, (1,3)=6, (2,0)=7, 
    //        (2,2)=5, (2,4)=4, (3,2)=6, (4,0)=8, (4,3)=5
    // 총 10개
    expect(solution(board)).toBe(10);
  });

  test("테스트 케이스 2 - 3x3 격자판", () => {
    const board = [
      [5, 3, 7],
      [2, 9, 4],
      [6, 1, 8]
    ];
    // (0,0)=5: 상0,하2,좌0,우3 → 5>0,5>2,5>0,5>3 → 봉우리 O
    // (0,2)=7: 상0,하4,좌3,우0 → 7>0,7>4,7>3,7>0 → 봉우리 O
    // (1,1)=9: 상3,하1,좌2,우4 → 9>3,9>1,9>2,9>4 → 봉우리 O
    // (2,0)=6: 상2,하0,좌0,우1 → 6>2,6>0,6>0,6>1 → 봉우리 O
    // (2,2)=8: 상4,하0,좌1,우0 → 8>4,8>0,8>1,8>0 → 봉우리 O
    // 총 5개
    expect(solution(board)).toBe(5);
  });

  test("테스트 케이스 3 - 봉우리가 하나인 경우", () => {
    const board = [
      [1, 2, 3],
      [2, 3, 4],
      [3, 4, 5]
    ];
    // (2,2)=5: 상=4, 좌=4, 우=경계(0), 하=경계(0) → 5>4,5>4,5>0,5>0 → 봉우리 O
    // 총 1개
    expect(solution(board)).toBe(1);
  });

  test("테스트 케이스 4 - 모두 봉우리인 경우", () => {
    const board = [
      [9, 1, 9],
      [1, 1, 1],
      [9, 1, 9]
    ];
    // (0,0)=9, (0,2)=9, (2,0)=9, (2,2)=9 → 4개
    expect(solution(board)).toBe(4);
  });

  test("테스트 케이스 5 - 2x2 격자판", () => {
    const board = [
      [5, 3],
      [2, 8]
    ];
    // (0,0)=5: 상0,하2,좌0,우3 → 5>0,5>2,5>0,5>3 → 봉우리 O
    // (1,1)=8: 상3,하0,좌2,우0 → 8>3,8>0,8>2,8>0 → 봉우리 O
    // 총 2개
    expect(solution(board)).toBe(2);
  });

  test("테스트 케이스 6 - 중앙에 하나만", () => {
    const board = [
      [1, 2, 1],
      [2, 9, 2],
      [1, 2, 1]
    ];
    // (1,1)=9만 봉우리
    expect(solution(board)).toBe(1);
  });

  test("테스트 케이스 7 - 가장자리 체크", () => {
    const board = [
      [1, 1, 1],
      [1, 1, 1],
      [1, 1, 1]
    ];
    // 모두 같은 높이라서 봉우리 없음 (상하좌우보다 "큰" 것만)
    expect(solution(board)).toBe(0);
  });

  test("테스트 케이스 8 - 4x4 격자판", () => {
    const board = [
      [3, 7, 2, 5],
      [5, 2, 8, 3],
      [2, 6, 3, 9],
      [4, 1, 7, 2]
    ];
    // 각 위치를 확인해서 상하좌우보다 큰 것만 카운트
    // (0,1)=7, (0,3)=5, (1,0)=5, (1,2)=8, (2,1)=6, (2,3)=9, (3,2)=7
    // 계산: (0,1)=7>0,>2,>3,>2 O
    //      (0,3)=5>0,>3,>2,>0 O
    //      (1,0)=5>0,>2,>3,>2 O
    //      (1,2)=8>2,>3,>2,>3 O
    //      (2,1)=6>2,>1,>2,>3 O
    //      (2,3)=9>3,>2,>8,>0 O
    //      (3,0)=4>0,>0,>2,>1 O
    //      (3,2)=7>3,>0,>1,>2 O
    expect(solution(board)).toBe(8);
  });
});

