import { describe, test, expect } from "vitest";
import { solution } from "./solution.js";

describe("임시반장 정하기", () => {
  test("테스트 케이스 1 - 기본 예제", () => {
    const students = [
      [2, 3, 1, 7, 3],
      [4, 1, 9, 6, 8],
      [5, 5, 2, 4, 4],
      [6, 5, 2, 6, 7],
      [8, 4, 2, 2, 2]
    ];
    // 1번: 2번(2학년 3반), 3번(3학년 1반), 4번(없음), 5번(없음) = 2명
    // 2번: 1번(2학년 3반), 3번(없음), 4번(없음), 5번(5학년 8반) = 2명
    // 3번: 1번(3학년 1반), 2번(없음), 4번(2학년 5반), 5번(3학년 2반, 4학년 4반) = 3명
    // 4번: 1번(없음), 2번(없음), 3번(2학년 5반), 5번(3학년 2반, 4학년 2반) = 3명... 아니 잠깐
    // 다시 계산:
    // 4번 학생: [6,5,2,6,7]
    // - 1번 [2,3,1,7,3]과 비교: 4학년(6vs7) 다름
    // - 2번 [4,1,9,6,8]과 비교: 4학년(6vs6) 같음! 
    // - 3번 [5,5,2,4,4]과 비교: 3학년(2vs2) 같음!
    // - 5번 [8,4,2,2,2]과 비교: 3학년(2vs2) 같음!
    // 4번은 총 3명(2,3,5번)과 같은 반이었음
    expect(solution(students)).toBe(4);
  });

  test("테스트 케이스 2 - 3명의 학생", () => {
    const students = [
      [1, 2, 3, 4, 5],
      [1, 2, 3, 4, 5],
      [6, 7, 8, 9, 10]
    ];
    // 1번: 2번(5학년 모두 같음) = 1명
    // 2번: 1번(5학년 모두 같음) = 1명
    // 3번: 아무도 없음 = 0명
    // 1번이 답 (가장 작은 번호)
    expect(solution(students)).toBe(1);
  });

  test("테스트 케이스 3 - 모두 같은 반", () => {
    const students = [
      [1, 1, 1, 1, 1],
      [1, 1, 1, 1, 1],
      [1, 1, 1, 1, 1],
      [1, 1, 1, 1, 1]
    ];
    // 모두 4명과 같은 반 → 1번이 답 (가장 작은 번호)
    expect(solution(students)).toBe(1);
  });

  test("테스트 케이스 4 - 아무도 같은 반이 아닌 경우", () => {
    const students = [
      [1, 2, 3, 4, 5],
      [6, 7, 8, 9, 10],
      [11, 12, 13, 14, 15]
    ];
    // 아무도 같은 반이었던 적 없음 → 1번 (가장 작은 번호)
    expect(solution(students)).toBe(1);
  });

  test("테스트 케이스 5 - 특정 학년에만 같은 반", () => {
    const students = [
      [1, 2, 3, 4, 5],
      [2, 2, 2, 2, 2],
      [3, 2, 3, 3, 3],
      [4, 2, 4, 4, 4]
    ];
    // 1번: 아무도 없음 = 0명
    // 2번: 3번(2학년 2반), 4번(2학년 2반) = 2명
    // 3번: 2번(2학년 2반) = 1명
    // 4번: 2번(2학년 2반) = 1명
    // 2번이 답
    expect(solution(students)).toBe(2);
  });

  test("테스트 케이스 6 - 여러 학년에 걸쳐 같은 반", () => {
    const students = [
      [1, 2, 3, 4, 5],
      [1, 3, 4, 5, 6],
      [2, 3, 4, 5, 7]
    ];
    // 1번: 2번(1학년 1반) = 1명
    // 2번: 1번(1학년 1반), 3번(2,3,4학년) = 2명
    // 3번: 2번(2,3,4학년) = 1명
    // 2번이 답
    expect(solution(students)).toBe(2);
  });
});

