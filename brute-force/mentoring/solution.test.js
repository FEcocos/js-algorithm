import { describe, it, expect } from 'vitest';
import { solution } from './solution.js';

describe('멘토링', () => {
  it('테스트 케이스 1 - 기본 예제 (4명, 3번 테스트)', () => {
    const tests = [
      [3, 4, 1, 2], // 3(1등), 4(2등), 1(3등), 2(4등)
      [4, 3, 2, 1], // 4(1등), 3(2등), 2(3등), 1(4등)
      [3, 1, 4, 2]  // 3(1등), 1(2등), 4(3등), 2(4등)
    ];
    // 가능한 (멘토, 멘티) 쌍:
    // (3, 1): 모든 테스트에서 3이 1보다 앞섬 ✓
    // (3, 2): 모든 테스트에서 3이 2보다 앞섬 ✓
    // (4, 2): 모든 테스트에서 4가 2보다 앞섬 ✓
    expect(solution(tests)).toBe(3);
  });

  it('테스트 케이스 2 - 2명, 1번 테스트', () => {
    const tests = [[1, 2]];
    // 가능한 (멘토, 멘티) 쌍:
    // (1, 2): 1이 2보다 앞섬 ✓
    expect(solution(tests)).toBe(1);
  });

  it('테스트 케이스 3 - 2명, 순위 일정', () => {
    const tests = [
      [1, 2],
      [1, 2]
    ];
    // 가능한 (멘토, 멘티) 쌍:
    // (1, 2): 모든 테스트에서 1이 2보다 앞섬 ✓
    expect(solution(tests)).toBe(1);
  });

  it('테스트 케이스 4 - 2명, 순위 바뀜 (멘토링 불가능)', () => {
    const tests = [
      [1, 2],
      [2, 1]
    ];
    // 가능한 (멘토, 멘티) 쌍: 없음
    // (1, 2): 테스트1에서는 1>2지만 테스트2에서는 1<2 ✗
    // (2, 1): 테스트1에서는 2<1지만 테스트2에서는 2>1 ✗
    expect(solution(tests)).toBe(0);
  });

  it('테스트 케이스 5 - 3명, 모두 같은 순위', () => {
    const tests = [
      [1, 2, 3],
      [1, 2, 3],
      [1, 2, 3]
    ];
    // 가능한 (멘토, 멘티) 쌍:
    // (1, 2): 모든 테스트에서 1>2 ✓
    // (1, 3): 모든 테스트에서 1>3 ✓
    // (2, 3): 모든 테스트에서 2>3 ✓
    expect(solution(tests)).toBe(3);
  });

  it('테스트 케이스 6 - 3명, 역순', () => {
    const tests = [
      [3, 2, 1],
      [3, 2, 1]
    ];
    // 가능한 (멘토, 멘티) 쌍:
    // (3, 2): 모든 테스트에서 3>2 ✓
    // (3, 1): 모든 테스트에서 3>1 ✓
    // (2, 1): 모든 테스트에서 2>1 ✓
    expect(solution(tests)).toBe(3);
  });

  it('테스트 케이스 7 - 4명, 1번 테스트만', () => {
    const tests = [[1, 2, 3, 4]];
    // 가능한 (멘토, 멘티) 쌍:
    // (1, 2), (1, 3), (1, 4), (2, 3), (2, 4), (3, 4) = 6개
    expect(solution(tests)).toBe(6);
  });

  it('테스트 케이스 8 - 3명, 복잡한 순위 변동', () => {
    const tests = [
      [1, 2, 3],
      [2, 3, 1],
      [3, 1, 2]
    ];
    // 모든 학생의 순위가 계속 바뀌므로 멘토링 불가능
    expect(solution(tests)).toBe(0);
  });

  it('테스트 케이스 9 - 5명, 한 명이 계속 1등', () => {
    const tests = [
      [1, 2, 3, 4, 5],
      [1, 3, 2, 5, 4],
      [1, 4, 5, 2, 3]
    ];
    // 가능한 (멘토, 멘티) 쌍:
    // (1, 2), (1, 3), (1, 4), (1, 5) = 4개
    // 1번 학생이 모든 테스트에서 1등이므로 다른 모든 학생의 멘토가 될 수 있음
    expect(solution(tests)).toBe(4);
  });

  it('테스트 케이스 10 - 4명, 2번 테스트', () => {
    const tests = [
      [1, 2, 3, 4],
      [1, 2, 4, 3]
    ];
    // 가능한 (멘토, 멘티) 쌍:
    // (1, 2): 두 테스트 모두 1>2 ✓
    // (1, 3): 두 테스트 모두 1>3 ✓
    // (1, 4): 두 테스트 모두 1>4 ✓
    // (2, 3): 두 테스트 모두 2>3 ✓
    // (2, 4): 두 테스트 모두 2>4 ✓
    // (3, 4): 테스트1에서 3>4지만 테스트2에서 3<4 ✗
    // (4, 3): 테스트1에서 4<3지만 테스트2에서 4>3 ✗
    expect(solution(tests)).toBe(5);
  });
});

