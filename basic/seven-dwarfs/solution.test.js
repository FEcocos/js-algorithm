import { describe, test, expect } from "vitest";
import { solution } from "./solution.js";

describe("일곱 난쟁이", () => {
  test("테스트 케이스 1 - 기본 예제", () => {
    const result = solution([20, 7, 23, 19, 10, 15, 25, 8, 13]);
    // 전체 합 = 140, 140 - 100 = 40
    // 제외: 15 + 25 = 40
    // 20 + 7 + 23 + 19 + 10 + 8 + 13 = 100 (15, 25 제외)
    expect(result).toEqual([20, 7, 23, 19, 10, 8, 13]);
  });

  test("테스트 케이스 2 - 다른 조합", () => {
    const result = solution([2, 3, 4, 5, 6, 50, 30, 1, 7]);
    // 전체 합 = 2+3+4+5+6+50+30+1+7 = 108
    // 108 - 100 = 8
    // 가능한 조합: (2+6=8) 또는 (1+7=8)
    // 둘 다 정답이므로 합과 개수만 확인
    const sum = result.reduce((acc, val) => acc + val, 0);
    expect(sum).toBe(100);
    expect(result.length).toBe(7);
  });

  test("테스트 케이스 3", () => {
    const result = solution([7, 8, 10, 13, 15, 19, 20, 23, 25]);
    // 전체 합 = 140
    // 140 - 100 = 40
    // 제외: 15 + 25 = 40
    // 7 + 8 + 10 + 13 + 19 + 20 + 23 = 100
    expect(result).toEqual([7, 8, 10, 13, 19, 20, 23]);
  });

  test("테스트 케이스 4", () => {
    const result = solution([1, 5, 6, 7, 10, 12, 19, 29, 33]);
    // 전체 합 = 1+5+6+7+10+12+19+29+33 = 122
    // 122 - 100 = 22
    // 제외: 10 + 12 = 22
    // 1 + 5 + 6 + 7 + 19 + 29 + 33 = 100
    expect(result).toEqual([1, 5, 6, 7, 19, 29, 33]);
  });

  test("테스트 케이스 5", () => {
    const result = solution([5, 10, 11, 12, 13, 14, 15, 16, 14]);
    // 전체 합 = 5+10+11+12+13+14+15+16+14 = 110
    // 110 - 100 = 10
    // 제외: 10 + 0은 없으므로... 다시 생각
    // 실제 제외 가능: 5, 10 중 하나와 다른 수
    // 10 제외하고 하나 더? 5+10=15 아님, 10 하나만 제외 불가
    // 다시: 10 하나 제외 못함. 두 개 제외
    // 없음... 테스트 케이스 수정
    const result2 = solution([5, 6, 11, 12, 13, 14, 15, 16, 18]);
    // 전체 합 = 5+6+11+12+13+14+15+16+18 = 110
    // 110 - 100 = 10
    // 제외 가능: 5 제외하고... 5만 제외 불가
    // 다시 작성
    const result3 = solution([1, 9, 11, 12, 13, 14, 15, 16, 19]);
    // 전체 합 = 1+9+11+12+13+14+15+16+19 = 110
    // 110 - 100 = 10
    // 제외: 1 + 9 = 10
    // 11 + 12 + 13 + 14 + 15 + 16 + 19 = 100
    expect(result3).toEqual([11, 12, 13, 14, 15, 16, 19]);
  });

  // 결과 검증 테스트
  test("결과의 합은 항상 100이어야 함", () => {
    const inputs = [
      [20, 7, 23, 19, 10, 15, 25, 8, 13],
      [7, 8, 10, 13, 15, 19, 20, 23, 25],
      [1, 9, 11, 12, 13, 14, 15, 16, 19],
    ];

    inputs.forEach((input) => {
      const result = solution(input);
      const sum = result.reduce((acc, val) => acc + val, 0);
      expect(sum).toBe(100);
      expect(result.length).toBe(7);
    });
  });
});
